{% extends "site_base.html" %}

{% block title %}
Register Company
{% endblock %}

{% load staticfiles %}
{% block javascript %}
	<script src="{% static 'hcustomers/type.js' %}"></script>
	<script src="{% static 'hcustomers/expertise.js' %}"></script>
{% endblock %}

{% block content %}
<div class="row">
	<!--Magellan-->
	<div class="large-12 columns">
		<h2>Company Registration Form</h2>
		<div data-magellan-expedition="fixed">
			<dl class="sub-nav">
				<dd data-magellan-arrival="basic">
					<a href="#basic">Basic</a>
				</dd>
				<dd data-magellan-arrival="address">
					<a href="#address">Address</a>
				</dd>
				<dd data-magellan-arrival="types_industries">
					<a href="#types_industries">Types+Industries</a>
				</dd>
				<dd data-magellan-arrival="categories">
					<a href="#categories">Categories</a>
				</dd>
				<dd data-magellan-arrival="expertise">
					<a href="#expertise">Expertise</a>
				</dd>
				<dd data-magellan-arrival="notes">
					<a href="#notes">Notes</a>
				</dd>
			</dl>
		</div>
	</div>
	<div class="large-12 columns">
		<form action="{% url 'Hyperion.apps.hcustomers.views.register_company' %}" method="post" class="custom">
			{% csrf_token %}
			{% if form.errors %}
                <div class="row error">{{ form.errors }}</div>
            {% endif %}
			<fieldset>
				<a name="basic"></a>
				<div class="row" data-magellan-destination="basic">
					<!--Company Name-->
					<div class="large-7 columns">
						<label for="id_name"><h4 class="subheader">Name:</h4></label>
						{{ form.name }}
						{% if form.name.errors %}
                            <small class="error">{{ form.name.errors|first }}</small>
                        {% endif %}
					</div>

					<!--Website-->
					<div class="large-5 columns">
						<label for="id_name"><h4 class="subheader">Website:</h4></label>
						<div class="row collapse">
							<div class="large-3 columns">
								<span class="prefix">http://</span>
							</div>
							<div class="large-9 columns">
								{{ form.website }}
								{% if form.website.errors %}
		                            <small class="error">{{ form.website.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
					</div>

					<!--Region-->
					<div class="large-2 columns">
						<label for="id_region"><h4 class="subheader">Region:</h4></label>
						{{ form.region }}
						{% if form.region.errors %}
                            <small class="error">{{ form.region.errors|first }}</small>
                        {% endif %}
					</div>

					<!--Primary Type-->
					<div class="large-3 columns">
						<label for="id_primary_type"><h4 class="subheader">Primary Type:</h4></label>
						{{ form.primary_type }}
						{% if form.primary_type.errors %}
                            <small class="error">{{ form.primary_type.errors|first }}</small>
                        {% endif %}
					</div>

					<!--About-->
					<div class="large-7 columns">
						<label for="id_about"><h4 class="subheader">About:</h4></label>
						{{ form.about }}
						{% if form.about.errors %}
                            <small class="error">{{ form.about.errors|first }}</small>
                        {% endif %}
					</div>

					<!--Email-->
					<div class="large-4 columns">
						<label for="id_email"><h4 class="subheader">E-mail:</h4></label>
						{{ form.email }}
						{% if form.email.errors %}
                            <small class="error">{{ form.email.errors|first }}</small>
                        {% endif %}
					</div>

					<!--Phone-->
					<div class="large-4 columns">
						<label for="id_phone"><h4 class="subheader">Phone:</h4></label>
						{{ form.phone }}
						{% if form.phone.errors %}
                            <small class="error">{{ form.phone.errors|first }}</small>
                        {% endif %}
					</div>

					<!--Fax-->
					<div class="large-4 columns">
						<label for="id_fax"><h4 class="subheader">Fax:</h4></label>
						{{ form.fax }}
						{% if form.fax.errors %}
                            <small class="error">{{ form.fax.errors|first }}</small>
                        {% endif %}
					</div>

				</div>

				<hr />

				<a name="address"></a>
				<div class="row" data-magellan-destination="address">
					<!--Address-->
					<div class="large-12 columns">
						<h4 class="subheader">Address:</h4>
					</div>
					<!--left address-->
					<div class="large-6 columns">
						<div class="row collapse">
							<div class="large-2 columns">
								<span class="prefix">Line 1:</span>
							</div>
							<div class="large-10 columns">
								{{ form.street_line1 }}
								{% if form.street_line1.errors %}
		                            <small class="error">{{ form.street_line1.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
						<div class="row collapse">
							<div class="large-2 columns">
								<span class="prefix">Line 2:</span>
							</div>
							<div class="large-10 columns">
								{{ form.street_line2 }}
								{% if form.street_line2.errors %}
		                            <small class="error">{{ form.street_line2.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
						<div class="row collapse">
							<div class="large-2 columns">
								<span class="prefix">Line 3:</span>
							</div>
							<div class="large-10 columns">
								{{ form.street_line3 }}
								{% if form.street_line3.errors %}
		                            <small class="error">{{ form.street_line3.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
					</div>
					<!--right address-->
					<div class="large-6 columns">
						<div class="row collapse">
							<div class="large-2 columns">
								<span class="prefix">City:</span>
							</div>
							<div class="large-10 columns">
								{{ form.city }}
								{% if form.city.errors %}
		                            <small class="error">{{ form.city.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
						<div class="row collapse">
							<div class="large-4 columns">
								<span class="prefix">State/Province:</span>
							</div>
							<div class="large-8 columns">
								{{ form.state_province }}
								{% if form.state_province.errors %}
		                            <small class="error">{{ form.state_province.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
						<div class="row collapse">
							<div class="large-2 columns">
								<span class="prefix">Country:</span>
							</div>
							<div class="large-4 columns">
								{{ form.country }}
								{% if form.country.errors %}
		                            <small class="error">{{ form.country.errors|first }}</small>
		                        {% endif %}
							</div>
							<div class="large-2 large-offset-1 columns">
								<span class="prefix">Zip:</span>
							</div>
							<div class="large-3 columns">
								{{ form.zip_code }}
								{% if form.zip_code.errors %}
		                            <small class="error">{{ form.zip_code.errors|first }}</small>
		                        {% endif %}
							</div>
						</div>
					</div>
				</div>

				<hr />

				<a name="types_industries"></a>
				<div class="row" data-magellan-destination="types_industries">
					<!--All Types-->
					<div class="large-4 columns">
						<label for="id_all_types">
							<h4 class="subheader">All Types:</h4>
						</label>
						{% for pk, type in form.all_types.field.widget.choices %}
							<div class="large-12 columns">
								<label for="id_all_types_{{ pk }}">
									<input type="checkbox" id="id_all_types_{{ pk }}" name="all_types" value="{{ pk }}" style="display: none;">
									<span class="custom checkbox"></span>
									{{ type }}
								</label>
							</div>
						{% endfor %}
					</div>
					
					<!--Industries-->
					<div class="large-7 large-offset-1 columns">
						<h4 class="subheader">Industries:</h4>

						<div class="large-6 columns">
							<div class="row collapse">
								<div class="large-2 columns text-center">
									<kbd>E</kbd>
								</div>
								<div class="large-10 columns"></div>
							</div>
							{% for pk, industry in form.industries.field.widget.choices %}
								{% if forloop.counter <= forloop.revcounter %}
									<div class="row collapse">
										<div class="large-2 columns text-center">
											<label for="id_industry_expertise_{{ pk }}">
												<input type="checkbox" id="id_industry_expertise_{{ pk }}" name="industry_expertise" value="{{ pk }}" style="display: none;">
												<span class="custom checkbox"></span>
											</label>
										</div>
										<div class="large-10 columns">
											<label for="id_industries_{{ pk }}">
												<input type="checkbox" id="id_industries_{{ pk }}" name="industries" value="{{ pk }}" style="display: none;">
												<span class="custom checkbox"></span>
												{{ industry }}
											</label>
										</div>
									</div>
								{% endif %}
							{% endfor %}
						</div>
						<div class="large-6 columns">
							<div class="row collapse">
								<div class="large-2 columns text-center">
									<kbd>E</kbd>
								</div>
								<div class="large-10 columns"></div>
							</div>
							{% for pk, industry in form.industries.field.widget.choices %}
								{% if forloop.counter > forloop.revcounter %}
									<div class="row collapse">
										<div class="large-2 columns text-center">
											<label for="id_industry_expertise_{{ pk }}">
												<input type="checkbox" id="id_industry_expertise_{{ pk }}" name="industry_expertise" value="{{ pk }}" style="display: none;">
												<span class="custom checkbox"></span>
											</label>
										</div>
										<div class="large-10 columns">
											<label for="id_industries_{{ pk }}">
												<input type="checkbox" id="id_industries_{{ pk }}" name="industries" value="{{ pk }}" style="display: none;">
												<span class="custom checkbox"></span>
												{{ industry }}
											</label>
										</div>
									</div>
								{% endif %}
							{% endfor %}
						</div>
					</div>
				</div>


				<hr />

				<a name="categories"></a>
				<!--Categories-->
				<div class="row" data-magellan-destination="categories">
					<div class="large-12 columns">
						<h4 class="subheader">Categories:</h4>
						<div class="section-container tabs" data-section="tabs">
							{% for category_group in grouped_category_models.items %}
								<section>
									<p class="title" data-section-title>
										<a href="#">{{ category_group.0 }}</a>
									</p>
									<div class="content" data-section-content>
										<div class="row">
											<div class="large-6 columns">
												<div class="row collapse">
													<div class="large-1 columns text-center">
														<kbd>E</kbd>
													</div>
													<div class="large-11 columns"></div>
												</div>
												{% for category in category_group.1 %}
													{% if forloop.counter <= forloop.revcounter %}
														<div class="row collapse">
															<div class="large-1 columns text-center">
																<label for="id_category_expertise_{{ category.id }}">
																	<input type="checkbox" id="id_category_expertise_{{ category.id }}" name="category_expertise" value="{{ category.id }}" style="display: none;" />
																	<span class="custom checkbox"></span>
																</label>
															</div>
															<div class="large-11 columns">
																<label for="id_categories_{{ category.id }}">
																	<input type="checkbox" id="id_categories_{{ category.id }}" name="categories" value="{{ category.id }}" style="display: none;" />
																	<span class="custom checkbox"></span>
																	{{ category.subcategory_name }}
																</label>
															</div>
														</div>
													{% endif %}
												{% endfor %}
											</div>
											<div class="large-6 columns">
												<div class="row collapse">
													<div class="large-1 columns text-center">
														<kbd>E</kbd>
													</div>
													<div class="large-11 columns"></div>
												</div>
												{% for category in category_group.1 %}
													{% if forloop.counter > forloop.revcounter %}
														<div class="row collapse">
															<div class="large-1 columns text-center">
																<label for="id_category_expertise_{{ category.id }}">
																	<input type="checkbox" id="id_category_expertise_{{ category.id }}" name="category_expertise" value="{{ category.id }}" style="display: none;" />
																	<span class="custom checkbox"></span>
																</label>
															</div>
															<div class="large-11 columns">
																<label for="id_categories_{{ category.id }}">
																	<input type="checkbox" id="id_categories_{{ category.id }}" name="categories" value="{{ category.id }}" style="display: none;" />
																	<span class="custom checkbox"></span>
																	{{ category.subcategory_name }}
																</label>
															</div>
														</div>
													{% endif %}
												{% endfor %}
											</div>
										</div>
									</div>
								</section>
							{% endfor %}
						</div>
					</div>
				</div>
			
				<hr />

				<!--Expertise-->
				<a name="expertise"></a>
				<div class="row" data-magellan-destination="expertise">
					<div class="large-12 columns">
						<h4 class="subheader">Expertise</h4>
						{{ form.expertise_description }}
						{% if form.expertise_description.errors %}
                            <small class="error">{{ form.expertise_description.errors|first }}</small>
                        {% endif %}
					</div>
				</div>

				<hr />
				<!--Notes-->
				<a name="notes"></a>
				<div class="row" data-magellan-destination="notes">
					<div class="large-12 columns">
						<h4 class="subheader">Notes:</h4>
						{{ form.notes }}
						{% if form.notes.errors %}
                            <small class="error">{{ form.notes.errors|first }}</small>
                        {% endif %}
					</div>
				</div>

				<hr />

				<div class="large-12 columns text-center">
					<input type="submit" value="Register" class="button" />
				</div>
			</fieldset>
		</form>
	</div>
</div>
{% endblock %}